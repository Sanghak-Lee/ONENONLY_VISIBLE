{% extends "account/base.html" %}
{% load i18n static account %}

{% block head_title %} | {% trans "Set Password" %}{% endblock %}

{% block body %}
<div id="wrap" class="sub-wrap">
    <!-- container -->
    <div id="container">
      <!-- middleArea -->
      <div id="middleArea">
        <!-- content -->
        <section id="content" class="area-box">
          <!-- 실제 페이지 컨텐츠 내용이 시작되는 곳입니다 -->
          <div class="sub-page mypage-page">
            <div class="join-con step03">
              <h5 class="join-tit">비밀번호 설정</h5>
              <div class="join-inner-box">
                <p class="join-txt">비밀번호 설정을 완료해주세요</p>
                <div style="margin-top:3.5rem; text-align:center;">
                    <form method="POST" action="{% url 'account_set_password' %}" class="password_set">
                        {% csrf_token %}
                        {% for field in form %}
                          {% if field.name == "oldpassword" %}
                            <div class="modify-pw-check-item">                        
                              <input type="password" name="oldpassword" required class="cm-input" placeholder="현재 비밀번호">
                              <!-- 하단 알림 텍스트 영역 -->
                              <p class="check-list-alert">
                                {% for error in field.errors %}
                                  {{error | escape}}
                                {% endfor %}
                              </p>
                            </div>
                          {% elif field.name == "password1" %}
                            <div class="modify-pw-check-item">                        
                              <input type="password" name="password1" required class="cm-input" placeholder="새 비밀번호">
                              <!-- 하단 알림 텍스트 영역 -->
                              <p class="check-list-alert">
                                {% for error in field.errors %}
                                  {{error | escape}}
                                {% endfor %}
                              </p>
                            </div>
                            {% elif field.name == "password2" %}
                            <div class="modify-pw-check-item">                        
                              <input type="password" name="password2" required class="cm-input" placeholder="새 비밀번호(확인)">
                              <!-- 하단 알림 텍스트 영역 -->
                              <p class="check-list-alert">
                                {% for error in field.errors %}
                                  {{error | escape}}
                                {% endfor %}
                              </p>
                            </div>                            
                          {% endif %}                          
                        {% endfor %}
                        <div class="join-btn-con">
                          <button class="cm-custom-button" name="action" type="submit">{% trans "Set Password" %}</button>
                        </div>
                    </form>
                </div>                
                <div class="join-mail-info">
                  <p>지속적인 에러가 있나요?</p>
                  <ul class="dot-txt">
                    <li><p>지속적으로 에러가 발생하는 경우, 아이디(이메일)을 기재하여 <span class="cm-font-color-y">support@onenonly.io</span>으로 문의하시거나 <span class="cm-font-color-y">챗봇 상담</span>을 이용해 주세요.</p></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <!-- // 실제 페이지 컨텐츠 내용이 시작되는 곳입니다 -->
        </section>
        <!-- //content -->
      </div>
      <!-- //middleArea -->
    </div>
    <!-- // container -->
  </div>
  <!-- // wrap -->
{% endblock body %}

{% block extra_scripts %}
{% endblock extra_scripts %}